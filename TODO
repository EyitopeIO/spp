1. Support nested ifdefs
2. Throw error if "--Dxxx" is entered instead of "-Dxxx
